<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Call Summary</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .summary-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .call-info {
            margin-bottom: 20px;
        }
        .message-list {
            list-style: none;
            padding: 0;
        }
        .message {
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
        }
        .user-message {
            background-color: #e3f2fd;
        }
        .system-message {
            background-color: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="summary-container">
        <h1>Call Summary</h1>
        
        <div class="call-info">
            <p><strong>Call ID:</strong> <span th:text="${callSession.id}"></span></p>
            <p><strong>Phone Number:</strong> <span th:text="${callSession.phoneNumber}"></span></p>
            <p><strong>Start Time:</strong> <span th:text="${callSession.startTime}"></span></p>
            <p><strong>End Time:</strong> <span th:text="${callSession.endTime}"></span></p>
            <p><strong>Duration:</strong> <span th:text="${duration}"></span></p>
        </div>

        <h2>Conversation</h2>
        <ul class="message-list">
            <li th:each="message : ${messages}" 
                th:class="${message.type == 'USER' ? 'message user-message' : 'message system-message'}">
                <strong th:text="${message.type}"></strong>
                <span th:text="${message.content}"></span>
                <small th:text="${message.timestamp}"></small>
            </li>
        </ul>
    </div>
</body>
</html> 